<html>
    <body>
        <h1>Powah!!!</h1>
        <form>
            <input type="button" id="createinvitation" value="create invitation"/>
        </form>
        <textarea id="invitation" style="height:200px; width: 400px;"></textarea>
        <form>
            <input type="button" id="checkinvitation" value="check invitation status"/>
        </form>
        <div id="statusoutput"></div>
        <script type="text/javascript">
            let btn = document.getElementById('createinvitation');
            btn.onclick = async function(evt){
                console.log('clicked');
                let resp = await fetch('/api/create_invitation');
                let json_as_text = await resp.text();
                let inv_area = document.getElementById('invitation');
                inv_area.value = json_as_text;
            }
            let btn_check = document.getElementById('checkinvitation');
            btn_check.onclick = async function(evt){
                console.log('clicked');
                let resp = await fetch('/api/check_invitation');
                let json_as_text = await resp.text();
                let output = document.getElementById('statusoutput');
                output.innerText = json_as_text;
            }
        </script>
    </body>
</html>